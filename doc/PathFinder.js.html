<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: travel/search/PathFinder.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: travel/search/PathFinder.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>"use strict";

/**
 * A path finder uses a travel capability to search from a starting path one or
 * more paths to other destinations.
 * A search criterion determines whether a found path should be reported to a
 * collector and whether the search should continue with a found path.
 *
 * Since the search might take longer time, it is realized with a queue that
 * is processed one candidate at a time. The user is in control when and how
 * often to continue the search.
 *
 * Note that as long as the travel capability returns new results for any of
 * the found paths, this finder will continue to search. The search criterion
 * only governs whether a specific path is worth continuing.
 * The finder is used best in combination with the OptimizingTravelCapability.
 *
 * The start will also be notified to the criterion and the collector, to enable
 * 'blind' searches that also match the start system.
 *
 * @constructor
 * @param {everoute.travel.Path} start The start for the search.
 * @param {everoute.travel.capabilities.TravelCapability} capability the capability to use for advancing.
 * @param {everoute.travel.search.SearchCriterion} criterion The criterion by which to determine results.
 * @param {everoute.travel.search.SearchResultCollector} collector The collector for any found paths.
 * @memberof everoute.travel.search
 */
function PathFinder(start, capability, criterion, collector) {

  var candidates = [];

  function continueWithStart() {
    continueFunction = continueWithCandidate;
    processNewCandidate(start);
    continueFunction();
  }

  var continueFunction = continueWithStart;

  /**
   * Continues the search. This method should be called until it returned false.
   *
   * @return {Boolean} false if the search has completed and no more possibilities exist.
   */
  this.continueSearch = function() {
    continueFunction();

    return candidates.length !== 0;
  };

  function continueWithCandidate() {
    var nextPaths;

    if (candidates.length > 0) {
      nextPaths = capability.getNextPaths(candidates.pop());
      nextPaths.forEach(processNewCandidate);
    }
  }

  function processNewCandidate(path) {
    if (criterion.isDesired(path)) {
      collector.collect(path);
    }
    if (criterion.shouldSearchContinueWith(path)) {
      candidates.push(path);
    }
  }
}

module.exports = PathFinder;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="everoute.travel.AddingTravelCost.html">AddingTravelCost</a></li><li><a href="everoute.travel.AnyLocation.html">AnyLocation</a></li><li><a href="everoute.travel.capabilities.CombiningTravelCapability.html">CombiningTravelCapability</a></li><li><a href="everoute.travel.capabilities.jumpGate.JumpGateTravelCapability.html">JumpGateTravelCapability</a></li><li><a href="everoute.travel.capabilities.OptimizingTravelCapability.html">OptimizingTravelCapability</a></li><li><a href="everoute.travel.capabilities.TravelCapability.html">TravelCapability</a></li><li><a href="everoute.travel.Jump.html">Jump</a></li><li><a href="everoute.travel.JumpBuilder.html">JumpBuilder</a></li><li><a href="everoute.travel.Location.html">Location</a></li><li><a href="everoute.travel.ManufacturingPathContestProvider.html">ManufacturingPathContestProvider</a></li><li><a href="everoute.travel.Path.html">Path</a></li><li><a href="everoute.travel.PathContest.html">PathContest</a></li><li><a href="everoute.travel.PathContestProvider.html">PathContestProvider</a></li><li><a href="everoute.travel.rules.MaxSecurityTravelRule.html">MaxSecurityTravelRule</a></li><li><a href="everoute.travel.rules.MinSecurityTravelRule.html">MinSecurityTravelRule</a></li><li><a href="everoute.travel.rules.NaturalOrderTravelRule.html">NaturalOrderTravelRule</a></li><li><a href="everoute.travel.rules.TravelRule.html">TravelRule</a></li><li><a href="everoute.travel.rules.TravelRuleset.html">TravelRuleset</a></li><li><a href="everoute.travel.search.DestinationSystemSearchCriterion.html">DestinationSystemSearchCriterion</a></li><li><a href="everoute.travel.search.PathFinder.html">PathFinder</a></li><li><a href="everoute.travel.search.SearchCriterion.html">SearchCriterion</a></li><li><a href="everoute.travel.search.SearchResultCollector.html">SearchResultCollector</a></li><li><a href="everoute.travel.SpecificLocation.html">SpecificLocation</a></li><li><a href="everoute.travel.StaticPathContestProvider.html">StaticPathContestProvider</a></li><li><a href="everoute.travel.Step.html">Step</a></li><li><a href="everoute.travel.StepBuilder.html">StepBuilder</a></li><li><a href="everoute.travel.TravelCost.html">TravelCost</a></li><li><a href="everoute.travel.TravelCostSum.html">TravelCostSum</a></li><li><a href="everoute.universe.EmptySolarSystem.html">EmptySolarSystem</a></li><li><a href="everoute.universe.EmptyUniverse.html">EmptyUniverse</a></li><li><a href="everoute.universe.ExtendedSolarSystem.html">ExtendedSolarSystem</a></li><li><a href="everoute.universe.ExtendedUniverse.html">ExtendedUniverse</a></li><li><a href="everoute.universe.SolarSystem.html">SolarSystem</a></li><li><a href="everoute.universe.SolarSystemExtension.html">SolarSystemExtension</a></li><li><a href="everoute.universe.SolarSystemExtensionData.html">SolarSystemExtensionData</a></li><li><a href="everoute.universe.Universe.html">Universe</a></li><li><a href="everoute.universe.UniverseBuilder.html">UniverseBuilder</a></li><li><a href="everoute.util.DefaultRandomizer.html">DefaultRandomizer</a></li><li><a href="everoute.util.Randomizer.html">Randomizer</a></li></ul><h3>Namespaces</h3><ul><li><a href="everoute.html">everoute</a></li><li><a href="everoute.travel.html">travel</a></li><li><a href="everoute.travel.capabilities.html">capabilities</a></li><li><a href="everoute.travel.capabilities.jumpGate.html">jumpGate</a></li><li><a href="everoute.travel.rules.html">rules</a></li><li><a href="everoute.travel.rules.security.html">security</a></li><li><a href="everoute.travel.rules.transitCount.html">transitCount</a></li><li><a href="everoute.travel.search.html">search</a></li><li><a href="everoute.universe.html">universe</a></li><li><a href="everoute.util.html">util</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Fri Jan 24 2014 19:30:57 GMT-0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
